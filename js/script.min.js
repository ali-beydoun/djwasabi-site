if(document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".mobile-toggle"),n=document.querySelector(".nav-menu");e&&e.addEventListener("click",function(){n.classList.toggle("active"),e.classList.toggle("active")});document.querySelectorAll(".nav-menu a").forEach(e=>{e.addEventListener("click",function(e){const r=this.parentElement.classList.contains("dropdown"),t=window.innerWidth<=768;if(r&&t)return e.preventDefault(),void e.stopPropagation();n.classList.remove("active")})});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const n=this.getAttribute("href");if("#"===n)return;const r=document.querySelector(n);r&&(e.preventDefault(),r.scrollIntoView({behavior:"smooth",block:"start"}))})});document.querySelectorAll("img").forEach(e=>{e.addEventListener("error",function(){this.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjZGRkIi8+CiAgICA8dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjOTk5IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2UgUGxhY2Vob2xkZXI8L3RleHQ+Cjwvc3ZnPg==",this.alt="Image placeholder"})});const r=document.getElementById("quoteForm");if(r){const c=r.querySelectorAll(".form-step"),m=r.querySelectorAll(".progress-step"),g=r.querySelector(".form-progress"),u=r.querySelector(".btn-submit"),d=r.querySelector(".form-success"),h=3;let S=1;const y=new URLSearchParams(window.location.search).get("event");if(y){const L=document.getElementById("eventType");L&&(L.value=y);const w=document.getElementById("eventContext");w&&(w.value=y)}const v=document.getElementById("formSource");v&&(v.value=document.referrer||"direct");const b=document.getElementById("eventDate");if(b){const E=(new Date).toISOString().split("T")[0];b.min=E}function t(e){if(e>S&&!o(S))return;c.forEach(e=>e.classList.remove("active"));const n=r.querySelector(`.form-step[data-step="${e}"]`);n&&n.classList.add("active"),m.forEach((n,r)=>{n.classList.remove("active","completed"),r+1<e&&n.classList.add("completed"),r+1===e&&n.classList.add("active")}),g&&(g.classList.remove("step-2","step-3"),e>=2&&g.classList.add("step-2"),e>=3&&g.classList.add("step-3")),S=e;const t=r.querySelector(`.form-step[data-step="${e}"] input`);t&&setTimeout(()=>t.focus(),300)}function o(e){const n=r.querySelector(`.form-step[data-step="${e}"]`);if(!n)return!0;const t=n.querySelectorAll("[required]");let o=!0,a=null;return t.forEach(e=>{const n=e.closest(".form-group"),r=e.value.trim();let t=r.length>0;t&&"email"===e.type&&(t=r.includes("@")&&r.includes(".")),t?n&&n.classList.remove("error"):(n&&n.classList.add("error"),o=!1,a||(a=e),e.addEventListener("input",()=>{n&&n.classList.remove("error")},{once:!0}))}),a&&a.focus(),o}r.querySelectorAll(".btn-next").forEach(e=>{e.addEventListener("click",()=>{S<h&&t(S+1)})}),r.querySelectorAll(".btn-back").forEach(e=>{e.addEventListener("click",()=>{S>1&&t(S-1)})}),r.querySelectorAll("input, select").forEach(e=>{e.addEventListener("blur",function(){if(this.required&&this.value.trim()){const e=this.closest(".form-group");e&&e.classList.remove("error")}})}),r.addEventListener("submit",async function(e){if(e.preventDefault(),!o(S))return;const n=this.querySelector(".btn-submit");n&&(n.classList.add("loading"),n.disabled=!0);const t=()=>{const e=document.getElementById("name"),n=e?e.value.split(" ")[0]:"",t=d?d.querySelector(".user-name"):null;if(t&&(t.textContent=n),"function"==typeof gtag){const e=document.getElementById("event-type")?.value||"unknown";gtag("event","generate_lead",{event_category:"Quote Form",event_label:e,value:1})}c.forEach(e=>e.style.display="none"),g&&(g.style.display="none");const o=r.querySelector(".form-note");o&&(o.style.display="none"),d&&(d.style.display="block",d.scrollIntoView({behavior:"smooth",block:"center"}))};try{const e=new FormData(this),n=new AbortController,r=setTimeout(()=>n.abort(),15e3),o=await fetch(this.action,{method:"POST",body:e,headers:{Accept:"application/json"},signal:n.signal});if(clearTimeout(r),!o.ok)throw new Error(`HTTP ${o.status}`);const a=o.headers.get("content-type");if(a&&a.includes("application/json")){const e=await o.json();if("true"!==e.success&&!0!==e.success)throw new Error(e.message||"Submission failed");t()}else console.warn("FormSubmit returned non-JSON response"),t()}catch(e){console.error("Form submission error:",e);let r="Something went wrong. ";"AbortError"===e.name?r+="The request timed out. Please try again.":navigator.onLine?r+="Give me a call or WhatsApp instead!":r+="Check your internet connection.",alert(r),n&&(n.classList.remove("loading"),n.disabled=!1)}}),r.addEventListener("keydown",function(e){"Enter"===e.key&&"TEXTAREA"!==e.target.tagName&&(e.preventDefault(),S<h?t(S+1):u&&u.click())});const f=document.getElementById("venue"),p=document.getElementById("suburbSuggestions");if(f&&p){const I=[{name:"Sydney CBD",region:"City"},{name:"Darling Harbour",region:"City"},{name:"The Rocks",region:"City"},{name:"Circular Quay",region:"City"},{name:"Pyrmont",region:"Inner West"},{name:"Ultimo",region:"City"},{name:"Surry Hills",region:"Inner City"},{name:"Darlinghurst",region:"Inner City"},{name:"Potts Point",region:"Inner City"},{name:"Woolloomooloo",region:"Inner City"},{name:"Redfern",region:"Inner City"},{name:"Chippendale",region:"Inner City"},{name:"Newtown",region:"Inner West"},{name:"Glebe",region:"Inner West"},{name:"Paddington",region:"Eastern Suburbs"},{name:"Bondi",region:"Eastern Suburbs"},{name:"Bondi Beach",region:"Eastern Suburbs"},{name:"Bondi Junction",region:"Eastern Suburbs"},{name:"Bronte",region:"Eastern Suburbs"},{name:"Coogee",region:"Eastern Suburbs"},{name:"Randwick",region:"Eastern Suburbs"},{name:"Maroubra",region:"Eastern Suburbs"},{name:"Double Bay",region:"Eastern Suburbs"},{name:"Rose Bay",region:"Eastern Suburbs"},{name:"Vaucluse",region:"Eastern Suburbs"},{name:"Watsons Bay",region:"Eastern Suburbs"},{name:"Centennial Park",region:"Eastern Suburbs"},{name:"Moore Park",region:"Eastern Suburbs"},{name:"Kensington",region:"Eastern Suburbs"},{name:"Kingsford",region:"Eastern Suburbs"},{name:"Marrickville",region:"Inner West"},{name:"Enmore",region:"Inner West"},{name:"Stanmore",region:"Inner West"},{name:"Petersham",region:"Inner West"},{name:"Leichhardt",region:"Inner West"},{name:"Annandale",region:"Inner West"},{name:"Balmain",region:"Inner West"},{name:"Rozelle",region:"Inner West"},{name:"Drummoyne",region:"Inner West"},{name:"Five Dock",region:"Inner West"},{name:"Burwood",region:"Inner West"},{name:"Strathfield",region:"Inner West"},{name:"Ashfield",region:"Inner West"},{name:"Summer Hill",region:"Inner West"},{name:"Dulwich Hill",region:"Inner West"},{name:"Canterbury",region:"Inner West"},{name:"Campsie",region:"Inner West"},{name:"Lakemba",region:"Inner West"},{name:"Bankstown",region:"South West"},{name:"North Sydney",region:"Lower North Shore"},{name:"Kirribilli",region:"Lower North Shore"},{name:"Lavender Bay",region:"Lower North Shore"},{name:"Milsons Point",region:"Lower North Shore"},{name:"McMahons Point",region:"Lower North Shore"},{name:"Neutral Bay",region:"Lower North Shore"},{name:"Cremorne",region:"Lower North Shore"},{name:"Mosman",region:"Lower North Shore"},{name:"Crows Nest",region:"Lower North Shore"},{name:"St Leonards",region:"Lower North Shore"},{name:"Artarmon",region:"Lower North Shore"},{name:"Lane Cove",region:"Lower North Shore"},{name:"Willoughby",region:"Lower North Shore"},{name:"Chatswood",region:"Lower North Shore"},{name:"Lindfield",region:"Upper North Shore"},{name:"Roseville",region:"Upper North Shore"},{name:"Killara",region:"Upper North Shore"},{name:"Gordon",region:"Upper North Shore"},{name:"Pymble",region:"Upper North Shore"},{name:"Turramurra",region:"Upper North Shore"},{name:"Wahroonga",region:"Upper North Shore"},{name:"Hornsby",region:"Upper North Shore"},{name:"Manly",region:"Northern Beaches"},{name:"Dee Why",region:"Northern Beaches"},{name:"Brookvale",region:"Northern Beaches"},{name:"Freshwater",region:"Northern Beaches"},{name:"Curl Curl",region:"Northern Beaches"},{name:"Narrabeen",region:"Northern Beaches"},{name:"Mona Vale",region:"Northern Beaches"},{name:"Newport",region:"Northern Beaches"},{name:"Avalon",region:"Northern Beaches"},{name:"Palm Beach",region:"Northern Beaches"},{name:"Warriewood",region:"Northern Beaches"},{name:"Collaroy",region:"Northern Beaches"},{name:"Parramatta",region:"Western Sydney"},{name:"Ryde",region:"Western Sydney"},{name:"Eastwood",region:"Western Sydney"},{name:"Epping",region:"Western Sydney"},{name:"Macquarie Park",region:"Western Sydney"},{name:"Homebush",region:"Western Sydney"},{name:"Sydney Olympic Park",region:"Western Sydney"},{name:"Auburn",region:"Western Sydney"},{name:"Granville",region:"Western Sydney"},{name:"Merrylands",region:"Western Sydney"},{name:"Guildford",region:"Western Sydney"},{name:"Lidcombe",region:"Western Sydney"},{name:"Blacktown",region:"Western Sydney"},{name:"Seven Hills",region:"Western Sydney"},{name:"Castle Hill",region:"Hills District"},{name:"Baulkham Hills",region:"Hills District"},{name:"Bella Vista",region:"Hills District"},{name:"Kellyville",region:"Hills District"},{name:"Rouse Hill",region:"Hills District"},{name:"Norwest",region:"Hills District"},{name:"Penrith",region:"Western Sydney"},{name:"Mt Druitt",region:"Western Sydney"},{name:"Richmond",region:"Western Sydney"},{name:"Windsor",region:"Western Sydney"},{name:"Mascot",region:"South Sydney"},{name:"Botany",region:"South Sydney"},{name:"Rockdale",region:"St George"},{name:"Brighton-Le-Sands",region:"St George"},{name:"Kogarah",region:"St George"},{name:"Hurstville",region:"St George"},{name:"Penshurst",region:"St George"},{name:"Mortdale",region:"St George"},{name:"Oatley",region:"St George"},{name:"Sans Souci",region:"St George"},{name:"Cronulla",region:"Sutherland Shire"},{name:"Miranda",region:"Sutherland Shire"},{name:"Caringbah",region:"Sutherland Shire"},{name:"Sutherland",region:"Sutherland Shire"},{name:"Engadine",region:"Sutherland Shire"},{name:"Menai",region:"Sutherland Shire"},{name:"Kirrawee",region:"Sutherland Shire"},{name:"Gymea",region:"Sutherland Shire"},{name:"Liverpool",region:"South West"},{name:"Cabramatta",region:"South West"},{name:"Fairfield",region:"South West"},{name:"Wetherill Park",region:"South West"},{name:"Campbelltown",region:"South West"},{name:"Camden",region:"South West"},{name:"Narellan",region:"South West"},{name:"Oran Park",region:"South West"},{name:"Leppington",region:"South West"},{name:"Wollongong",region:"Illawarra"},{name:"Shellharbour",region:"Illawarra"},{name:"Kiama",region:"Illawarra"},{name:"Thirroul",region:"Illawarra"},{name:"Gosford",region:"Central Coast"},{name:"Terrigal",region:"Central Coast"},{name:"The Entrance",region:"Central Coast"},{name:"Wyong",region:"Central Coast"},{name:"Erina",region:"Central Coast"},{name:"Katoomba",region:"Blue Mountains"},{name:"Leura",region:"Blue Mountains"},{name:"Springwood",region:"Blue Mountains"},{name:"Bowral",region:"Southern Highlands"},{name:"Mittagong",region:"Southern Highlands"},{name:"Moss Vale",region:"Southern Highlands"},{name:"Darling Square",region:"City"},{name:"Barangaroo",region:"City"},{name:"Walsh Bay",region:"City"},{name:"Cockle Bay",region:"City"},{name:"Doltone House",region:"Various"},{name:"Luna Park",region:"Lower North Shore"},{name:"Taronga Zoo",region:"Lower North Shore"},{name:"Royal Botanic Gardens",region:"City"}];let W=-1;function a(e){f.value=e,p.classList.remove("active"),p.innerHTML="",W=-1}function i(){p.querySelectorAll("li").forEach((e,n)=>{e.classList.toggle("highlighted",n===W)})}f.addEventListener("input",function(){!function(e){if(0===e.length)return p.classList.remove("active"),p.innerHTML="",void(W=-1);p.innerHTML=e.map((e,n)=>`<li data-index="${n}" data-value="${e.name}">${e.name}<span class="suburb-region">${e.region}</span></li>`).join(""),p.classList.add("active"),W=-1}(function(e){if(!e||e.length<2)return[];const n=e.toLowerCase();return I.filter(e=>e.name.toLowerCase().includes(n)).slice(0,6)}(this.value))}),f.addEventListener("keydown",function(e){const n=p.querySelectorAll("li");n.length&&("ArrowDown"===e.key?(e.preventDefault(),W=Math.min(W+1,n.length-1),i()):"ArrowUp"===e.key?(e.preventDefault(),W=Math.max(W-1,0),i()):"Enter"===e.key&&W>=0?(e.preventDefault(),e.stopPropagation(),a(n[W].dataset.value)):"Escape"===e.key&&(p.classList.remove("active"),W=-1))}),p.addEventListener("click",function(e){const n=e.target.closest("li");n&&a(n.dataset.value)}),document.addEventListener("click",function(e){e.target.closest(".venue-group")||(p.classList.remove("active"),W=-1)}),f.addEventListener("blur",function(){setTimeout(()=>{p.classList.remove("active"),W=-1},150)})}}let s=0;const l=document.querySelector(".navbar");window.addEventListener("scroll",()=>{const e=window.pageYOffset;e<=0?l.classList.remove("scroll-up"):(e>s&&!l.classList.contains("scroll-down")?(l.classList.remove("scroll-up"),l.classList.add("scroll-down")):e<s&&l.classList.contains("scroll-down")&&(l.classList.remove("scroll-down"),l.classList.add("scroll-up")),s=e)})}),"IntersectionObserver"in window){const e=new IntersectionObserver((n,r)=>{n.forEach(n=>{if(n.isIntersecting){const r=n.target;r.dataset.src&&(r.src=r.dataset.src,r.removeAttribute("data-src"),e.unobserve(r))}})});document.querySelectorAll("img[data-src]").forEach(n=>{e.observe(n)});const n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("scroll-animate"),setTimeout(()=>{e.target.classList.remove("scroll-animate")},1500))})},{threshold:.5,rootMargin:"0px"});document.querySelectorAll(".trust-item, .expertise-item").forEach(e=>{n.observe(e)}),"function"==typeof gtag&&(document.querySelectorAll('a[href^="tel:"]').forEach(e=>{e.addEventListener("click",()=>{gtag("event","click",{event_category:"Contact",event_label:"Phone Call"})})}),document.querySelectorAll('a[href*="whatsapp"]').forEach(e=>{e.addEventListener("click",()=>{gtag("event","click",{event_category:"Contact",event_label:"WhatsApp"})})}),document.querySelectorAll('a[href^="mailto:"]').forEach(e=>{e.addEventListener("click",()=>{gtag("event","click",{event_category:"Contact",event_label:"Email"})})}),document.querySelectorAll('a[href*="facebook.com"], a[href*="instagram.com"], a[href*="soundcloud.com"]').forEach(e=>{e.addEventListener("click",()=>{const n=e.href.includes("facebook")?"Facebook":e.href.includes("instagram")?"Instagram":"SoundCloud";gtag("event","click",{event_category:"Social",event_label:n})})}))}